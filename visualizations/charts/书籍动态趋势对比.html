
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>书籍动态趋势对比</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
        }
        #trend-chart {
            width: 1200px;
            height: 600px; /* 设置固定高度，确保显示正常 */
        }
    </style>
</head>
<body>
    <div id="trend-chart"></div>
    <script>
        // 加载数据
        var data = [{"月份": "2018-06", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 1.0}, {"月份": "2018-11", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 1.0}, {"月份": "2019-01", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 1.0}, {"月份": "2019-02", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 1.0}, {"月份": "2019-05", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 3.0}, {"月份": "2019-06", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 1.0}, {"月份": "2019-07", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 3.0}, {"月份": "2019-08", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 2.0}, {"月份": "2019-09", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 3.0}, {"月份": "2019-11", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 2.0}, {"月份": "2019-12", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 10.0}, {"月份": "2020-01", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 4.0}, {"月份": "2020-02", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 12.0}, {"月份": "2020-03", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 46.0}, {"月份": "2020-04", "首次上榜数量": 0.0, "末次上榜数量": 0.0, "入库书籍数量": 74.0}, {"月份": "2020-05", "首次上榜数量": 163.0, "末次上榜数量": 84.0, "入库书籍数量": 107.0}, {"月份": "2020-06", "首次上榜数量": 110.0, "末次上榜数量": 103.0, "入库书籍数量": 130.0}, {"月份": "2020-07", "首次上榜数量": 141.0, "末次上榜数量": 121.0, "入库书籍数量": 149.0}, {"月份": "2020-08", "首次上榜数量": 143.0, "末次上榜数量": 125.0, "入库书籍数量": 122.0}, {"月份": "2020-09", "首次上榜数量": 125.0, "末次上榜数量": 130.0, "入库书籍数量": 132.0}, {"月份": "2020-10", "首次上榜数量": 148.0, "末次上榜数量": 139.0, "入库书籍数量": 130.0}, {"月份": "2020-11", "首次上榜数量": 128.0, "末次上榜数量": 142.0, "入库书籍数量": 153.0}, {"月份": "2020-12", "首次上榜数量": 135.0, "末次上榜数量": 127.0, "入库书籍数量": 147.0}, {"月份": "2021-01", "首次上榜数量": 146.0, "末次上榜数量": 143.0, "入库书籍数量": 150.0}, {"月份": "2021-02", "首次上榜数量": 140.0, "末次上榜数量": 147.0, "入库书籍数量": 105.0}, {"月份": "2021-03", "首次上榜数量": 138.0, "末次上榜数量": 144.0, "入库书籍数量": 164.0}, {"月份": "2021-04", "首次上榜数量": 153.0, "末次上榜数量": 147.0, "入库书籍数量": 141.0}, {"月份": "2021-05", "首次上榜数量": 149.0, "末次上榜数量": 149.0, "入库书籍数量": 147.0}, {"月份": "2021-06", "首次上榜数量": 145.0, "末次上榜数量": 144.0, "入库书籍数量": 148.0}, {"月份": "2021-07", "首次上榜数量": 158.0, "末次上榜数量": 147.0, "入库书籍数量": 167.0}, {"月份": "2021-08", "首次上榜数量": 152.0, "末次上榜数量": 164.0, "入库书籍数量": 151.0}, {"月份": "2021-09", "首次上榜数量": 142.0, "末次上榜数量": 136.0, "入库书籍数量": 136.0}, {"月份": "2021-10", "首次上榜数量": 149.0, "末次上榜数量": 140.0, "入库书籍数量": 143.0}, {"月份": "2021-11", "首次上榜数量": 128.0, "末次上榜数量": 144.0, "入库书籍数量": 136.0}, {"月份": "2021-12", "首次上榜数量": 152.0, "末次上榜数量": 142.0, "入库书籍数量": 150.0}, {"月份": "2022-01", "首次上榜数量": 130.0, "末次上榜数量": 117.0, "入库书籍数量": 112.0}, {"月份": "2022-02", "首次上榜数量": 106.0, "末次上榜数量": 104.0, "入库书籍数量": 99.0}, {"月份": "2022-03", "首次上榜数量": 119.0, "末次上榜数量": 119.0, "入库书籍数量": 136.0}, {"月份": "2022-04", "首次上榜数量": 128.0, "末次上榜数量": 129.0, "入库书籍数量": 116.0}, {"月份": "2022-05", "首次上榜数量": 110.0, "末次上榜数量": 127.0, "入库书籍数量": 100.0}, {"月份": "2022-06", "首次上榜数量": 108.0, "末次上榜数量": 110.0, "入库书籍数量": 92.0}, {"月份": "2022-07", "首次上榜数量": 96.0, "末次上榜数量": 86.0, "入库书籍数量": 110.0}, {"月份": "2022-08", "首次上榜数量": 108.0, "末次上榜数量": 105.0, "入库书籍数量": 104.0}, {"月份": "2022-09", "首次上榜数量": 105.0, "末次上榜数量": 111.0, "入库书籍数量": 102.0}, {"月份": "2022-10", "首次上榜数量": 93.0, "末次上榜数量": 99.0, "入库书籍数量": 98.0}, {"月份": "2022-11", "首次上榜数量": 88.0, "末次上榜数量": 85.0, "入库书籍数量": 104.0}, {"月份": "2022-12", "首次上榜数量": 99.0, "末次上榜数量": 105.0, "入库书籍数量": 98.0}, {"月份": "2023-01", "首次上榜数量": 121.0, "末次上榜数量": 111.0, "入库书籍数量": 85.0}, {"月份": "2023-02", "首次上榜数量": 96.0, "末次上榜数量": 111.0, "入库书籍数量": 98.0}, {"月份": "2023-03", "首次上榜数量": 106.0, "末次上榜数量": 107.0, "入库书籍数量": 118.0}, {"月份": "2023-04", "首次上榜数量": 95.0, "末次上榜数量": 92.0, "入库书籍数量": 83.0}, {"月份": "2023-05", "首次上榜数量": 102.0, "末次上榜数量": 107.0, "入库书籍数量": 103.0}, {"月份": "2023-06", "首次上榜数量": 97.0, "末次上榜数量": 89.0, "入库书籍数量": 95.0}, {"月份": "2023-07", "首次上榜数量": 97.0, "末次上榜数量": 102.0, "入库书籍数量": 102.0}, {"月份": "2023-08", "首次上榜数量": 109.0, "末次上榜数量": 101.0, "入库书籍数量": 92.0}, {"月份": "2023-09", "首次上榜数量": 81.0, "末次上榜数量": 95.0, "入库书籍数量": 72.0}, {"月份": "2023-10", "首次上榜数量": 77.0, "末次上榜数量": 76.0, "入库书籍数量": 85.0}, {"月份": "2023-11", "首次上榜数量": 71.0, "末次上榜数量": 78.0, "入库书籍数量": 81.0}, {"月份": "2023-12", "首次上榜数量": 88.0, "末次上榜数量": 83.0, "入库书籍数量": 84.0}, {"月份": "2024-01", "首次上榜数量": 76.0, "末次上榜数量": 65.0, "入库书籍数量": 76.0}, {"月份": "2024-02", "首次上榜数量": 67.0, "末次上榜数量": 64.0, "入库书籍数量": 53.0}, {"月份": "2024-03", "首次上榜数量": 80.0, "末次上榜数量": 108.0, "入库书籍数量": 72.0}, {"月份": "2024-04", "首次上榜数量": 77.0, "末次上榜数量": 106.0, "入库书籍数量": 38.0}, {"月份": "2024-05", "首次上榜数量": 5.0, "末次上榜数量": 70.0, "入库书籍数量": 0.0}];

        // 提取数据
        var months = data.map(item => item.月份);
        var firstCounts = data.map(item => item.首次上榜数量);
        var lastCounts = data.map(item => item.末次上榜数量);
        var storageCounts = data.map(item => item.入库书籍数量);

        // 配置折线图
        var chartDom = document.getElementById('trend-chart');
        var myChart = echarts.init(chartDom);

        var option = {
            title: {
                text: '书籍动态趋势对比',
                left: 'center',
                top: '5%' // 避免标题与图表冲突
            },
            tooltip: {
                trigger: 'axis'
            },
            legend: {
                top: '10%', // 图例位置调整
                data: ['首次上榜数量', '末次上榜数量', '入库书籍数量']
            },
            grid: {
            top: '20%', // 调整顶部间距
            left: '10%',
            right: '10%',
            bottom: '15%',
            containLabel: true
        },
            xAxis: {
                type: 'category',
                data: months
            },
            yAxis: {
                type: 'value',
                name: '书籍数量'
            },
            series: [
                {
                    name: '首次上榜数量',
                    type: 'line',
                    data: firstCounts
                },
                {
                    name: '末次上榜数量',
                    type: 'line',
                    data: lastCounts
                },
                {
                    name: '入库书籍数量',
                    type: 'line',
                    data: storageCounts
                }
            ]
        };

        // 渲染图表
        myChart.setOption(option);
    </script>
    <div style="padding: 20px; background-color: #f9f9f9; border: 1px solid #ddd; margin: 10px 0;">
        <h3>图表说明</h3>
        <p>分析每月新增书籍数、首次上榜数量、末次上榜数量的动态趋势。</p>
        <h3>数据来源</h3>
        <p>数据来源：阿里数据 <a href="https://tianchi.aliyun.com/dataset/191720" target="_blank">https://tianchi.aliyun.com/dataset/191720</a></p>
        <h3>现实意义</h3>
        <p>了解每月新增书籍和上榜书籍数量的变化趋势，有助于把握行业发展动态。</p>
    </div>
    
</body>
</html>
