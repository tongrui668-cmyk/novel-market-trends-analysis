
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>动态排序柱状图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
</head>
<body>
    <div id="dynamic-bar" style="width: 1100px; height: 600px;"></div>
    <script>
        var chartDom = document.getElementById('dynamic-bar');
        var myChart = echarts.init(chartDom);

        // 数据
        var months = ["2020-05", "2020-06", "2020-07", "2020-08", "2020-09", "2020-10", "2020-11", "2020-12", "2021-01", "2021-02", "2021-03", "2021-04", "2021-05", "2021-06", "2021-07", "2021-08", "2021-09", "2021-10", "2021-11", "2021-12", "2022-01", "2022-02", "2022-03", "2022-04", "2022-05", "2022-06", "2022-07", "2022-08", "2022-09", "2022-10", "2022-11", "2022-12", "2023-01", "2023-02", "2023-03", "2023-04", "2023-05", "2023-06", "2023-07", "2023-08", "2023-09", "2023-10", "2023-11", "2023-12", "2024-01", "2024-02", "2024-03", "2024-04", "2024-05"];
        var dataByMonth = {"2020-05": [42, 32, 26, 25, 17, 13, 7, 1], "2020-06": [35, 21, 20, 18, 7, 5, 4], "2020-07": [36, 30, 23, 23, 14, 11, 3, 1], "2020-08": [41, 32, 23, 20, 13, 7, 7], "2020-09": [30, 28, 21, 20, 15, 6, 4, 1], "2020-10": [48, 31, 24, 20, 14, 6, 5], "2020-11": [39, 37, 16, 14, 8, 7, 7], "2020-12": [40, 29, 23, 15, 12, 10, 6], "2021-01": [47, 35, 17, 16, 13, 9, 8, 1], "2021-02": [37, 27, 26, 21, 14, 8, 7], "2021-03": [37, 31, 25, 17, 15, 7, 6], "2021-04": [50, 37, 22, 20, 12, 6, 6], "2021-05": [55, 27, 23, 18, 11, 10, 5], "2021-06": [48, 32, 24, 18, 10, 9, 4], "2021-07": [50, 35, 24, 20, 12, 10, 7], "2021-08": [67, 28, 18, 14, 11, 9, 4, 1], "2021-09": [52, 26, 21, 17, 13, 7, 4, 2], "2021-10": [56, 28, 20, 20, 12, 6, 6, 1], "2021-11": [41, 28, 21, 21, 6, 6, 4, 1], "2021-12": [48, 28, 27, 24, 13, 9, 3], "2022-01": [42, 26, 21, 17, 10, 9, 5], "2022-02": [31, 20, 18, 15, 10, 10, 2], "2022-03": [50, 20, 17, 12, 9, 8, 3], "2022-04": [46, 22, 21, 16, 10, 8, 5], "2022-05": [48, 17, 16, 11, 7, 7, 4], "2022-06": [41, 16, 15, 15, 8, 7, 6], "2022-07": [34, 24, 16, 7, 7, 6, 2], "2022-08": [39, 24, 17, 16, 5, 3, 3, 1], "2022-09": [48, 18, 13, 12, 5, 5, 4], "2022-10": [33, 20, 13, 13, 7, 5, 2], "2022-11": [33, 24, 11, 8, 8, 3, 1], "2022-12": [35, 33, 12, 10, 6, 2, 1], "2023-01": [50, 39, 15, 7, 5, 4, 1], "2023-02": [38, 31, 13, 6, 5, 2, 1], "2023-03": [35, 35, 13, 11, 6, 4, 1, 1], "2023-04": [37, 22, 12, 10, 9, 3, 2], "2023-05": [41, 33, 12, 9, 4, 2, 1], "2023-06": [39, 32, 12, 5, 4, 3, 2], "2023-07": [41, 32, 11, 6, 4, 2, 1], "2023-08": [50, 27, 16, 7, 6, 3], "2023-09": [29, 26, 9, 8, 6, 1, 1, 1], "2023-10": [23, 19, 12, 11, 6, 6], "2023-11": [20, 19, 10, 10, 7, 5], "2023-12": [26, 22, 16, 10, 6, 6, 1, 1], "2024-01": [29, 23, 10, 8, 4, 2], "2024-02": [21, 20, 9, 7, 7, 3], "2024-03": [30, 18, 11, 10, 8, 2, 1], "2024-04": [34, 16, 9, 8, 7, 3], "2024-05": [2, 1, 1, 1]};
        var categoriesByMonth = {"2020-05": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异", "青春校园"], "2020-06": ["都市言情", "玄幻奇幻", "同人小说", "军事历史", "科幻网游", "武侠仙侠", "恐怖灵异"], "2020-07": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "武侠仙侠", "科幻网游", "恐怖灵异", "轻小说"], "2020-08": ["都市言情", "玄幻奇幻", "同人小说", "军事历史", "科幻网游", "恐怖灵异", "武侠仙侠"], "2020-09": ["玄幻奇幻", "都市言情", "军事历史", "科幻网游", "同人小说", "武侠仙侠", "恐怖灵异", "轻小说"], "2020-10": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "恐怖灵异", "武侠仙侠"], "2020-11": ["玄幻奇幻", "都市言情", "军事历史", "同人小说", "科幻网游", "恐怖灵异", "武侠仙侠"], "2020-12": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "武侠仙侠", "科幻网游", "恐怖灵异"], "2021-01": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "武侠仙侠", "恐怖灵异", "轻小说"], "2021-02": ["都市言情", "军事历史", "玄幻奇幻", "科幻网游", "同人小说", "武侠仙侠", "恐怖灵异"], "2021-03": ["都市言情", "玄幻奇幻", "同人小说", "军事历史", "科幻网游", "武侠仙侠", "恐怖灵异"], "2021-04": ["都市言情", "玄幻奇幻", "同人小说", "军事历史", "科幻网游", "恐怖灵异", "武侠仙侠"], "2021-05": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "恐怖灵异", "科幻网游", "武侠仙侠"], "2021-06": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "武侠仙侠", "恐怖灵异"], "2021-07": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "武侠仙侠", "恐怖灵异"], "2021-08": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "武侠仙侠", "恐怖灵异", "青春校园"], "2021-09": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "恐怖灵异", "武侠仙侠", "轻小说"], "2021-10": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "科幻网游", "恐怖灵异", "武侠仙侠", "轻小说"], "2021-11": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "武侠仙侠", "科幻网游", "恐怖灵异", "青春校园"], "2021-12": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-01": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异"], "2022-02": ["都市言情", "同人小说", "玄幻奇幻", "军事历史", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-03": ["都市言情", "同人小说", "玄幻奇幻", "军事历史", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-04": ["都市言情", "玄幻奇幻", "军事历史", "同人小说", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-05": ["都市言情", "军事历史", "同人小说", "玄幻奇幻", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-06": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异"], "2022-07": ["都市言情", "军事历史", "同人小说", "武侠仙侠", "玄幻奇幻", "恐怖灵异", "科幻网游"], "2022-08": ["都市言情", "同人小说", "玄幻奇幻", "军事历史", "武侠仙侠", "恐怖灵异", "科幻网游", "轻小说"], "2022-09": ["都市言情", "同人小说", "玄幻奇幻", "军事历史", "武侠仙侠", "科幻网游", "恐怖灵异"], "2022-10": ["都市言情", "同人小说", "玄幻奇幻", "科幻网游", "军事历史", "武侠仙侠", "恐怖灵异"], "2022-11": ["都市言情", "同人小说", "科幻网游", "军事历史", "玄幻奇幻", "武侠仙侠", "恐怖灵异"], "2022-12": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "恐怖灵异", "武侠仙侠"], "2023-01": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异"], "2023-02": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异"], "2023-03": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异", "轻小说"], "2023-04": ["都市言情", "同人小说", "军事历史", "科幻网游", "玄幻奇幻", "武侠仙侠", "恐怖灵异"], "2023-05": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠", "恐怖灵异"], "2023-06": ["都市言情", "同人小说", "军事历史", "玄幻奇幻", "科幻网游", "恐怖灵异", "武侠仙侠"], "2023-07": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "恐怖灵异", "武侠仙侠"], "2023-08": ["同人小说", "都市言情", "军事历史", "科幻网游", "玄幻奇幻", "武侠仙侠"], "2023-09": ["都市言情", "同人小说", "玄幻奇幻", "科幻网游", "军事历史", "恐怖灵异", "武侠仙侠", "轻小说"], "2023-10": ["同人小说", "都市言情", "玄幻奇幻", "军事历史", "武侠仙侠", "科幻网游"], "2023-11": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠"], "2023-12": ["都市言情", "同人小说", "军事历史", "科幻网游", "武侠仙侠", "玄幻奇幻", "恐怖灵异", "轻小说"], "2024-01": ["同人小说", "都市言情", "军事历史", "玄幻奇幻", "科幻网游", "武侠仙侠"], "2024-02": ["同人小说", "都市言情", "玄幻奇幻", "军事历史", "科幻网游", "武侠仙侠"], "2024-03": ["同人小说", "都市言情", "科幻网游", "军事历史", "玄幻奇幻", "武侠仙侠", "轻小说"], "2024-04": ["同人小说", "都市言情", "科幻网游", "玄幻奇幻", "军事历史", "武侠仙侠"], "2024-05": ["都市言情", "同人小说", "玄幻奇幻", "科幻网游"]};

        // 动态排序柱状图配置
        var option = {
            baseOption: {
                timeline: {
                    axisType: 'category',
                    autoPlay: true,
                    playInterval: 2000,
                    data: months
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: { type: 'shadow' }
                },
                xAxis: {
                    type: 'value',
                    name: '首次上榜书籍总数'
                },
                yAxis: {
                    type: 'category',
                    inverse: true
                },
                series: [{
                    type: 'bar',
                    label: {
                        show: true,
                        position: 'right',
                        formatter: '{c}'
                    }
                }]
            },
            options: months.map(month => {
                return {
                    yAxis: {
                        data: categoriesByMonth[month]
                    },
                    series: [{
                        data: dataByMonth[month]
                    }]
                };
            })
        };

        // 渲染图表
        myChart.setOption(option);
    </script>
    <div style="padding: 20px; background-color: #f9f9f9; border: 1px solid #ddd; margin: 10px 0;">
        <h3>图表说明</h3>
        <p>展示不同月份内，上榜书的数量的动态变化排名。</p>
        <h3>数据来源</h3>
        <p>数据来源：阿里数据 <a href="https://tianchi.aliyun.com/dataset/191720" target="_blank">https://tianchi.aliyun.com/dataset/191720</a></p>
        <h3>观察</h3>
        <p>
            "都市言情"和"同人小说"始终处于领先位置。
            新兴类别如"科幻网游"的排名变化显示市场的潜在增长点。</p>
        <h3>现实意义</h3>
        <p>动态排名展示不同类别的竞争力变化，帮助平台和作者实时调整策略。</p>
    </div>
    
</body>
</html>
