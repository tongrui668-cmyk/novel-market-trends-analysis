
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>二级分类分析</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
</head>
<body>
    
    <div id="chart" style="width: 100%; height: 800px;"></div>
    <script>
        var chartDom = document.getElementById('chart');
        var myChart = echarts.init(chartDom);

        // 数据
        var data = [{"二级分类": "三国梦想", "总上榜次数": 2338, "平均名次": 30.32183908045977, "书籍数量": 87, "颜色": "hsl(0, 70%, 50%)"}, {"二级分类": "上古神话", "总上榜次数": 1272, "平均名次": 30.5703125, "书籍数量": 64, "颜色": "hsl(30, 70%, 50%)"}, {"二级分类": "东方玄幻", "总上榜次数": 9157, "平均名次": 31.26948051948052, "书籍数量": 308, "颜色": "hsl(60, 70%, 50%)"}, {"二级分类": "人文历史", "总上榜次数": 317, "平均名次": 30.3125, "书籍数量": 8, "颜色": "hsl(90, 70%, 50%)"}, {"二级分类": "传统武侠", "总上榜次数": 1674, "平均名次": 34.56603773584906, "书籍数量": 53, "颜色": "hsl(120, 70%, 50%)"}, {"二级分类": "其它竞技", "总上榜次数": 4, "平均名次": 40.75, "书籍数量": 2, "颜色": "hsl(150, 70%, 50%)"}, {"二级分类": "动漫同人", "总上榜次数": 15935, "平均名次": 34.61739130434783, "书籍数量": 575, "颜色": "hsl(180, 70%, 50%)"}, {"二级分类": "历史传记", "总上榜次数": 141, "平均名次": 28.55555555555556, "书籍数量": 9, "颜色": "hsl(210, 70%, 50%)"}, {"二级分类": "古典仙侠", "总上榜次数": 2548, "平均名次": 31.17619047619048, "书籍数量": 105, "颜色": "hsl(240, 70%, 50%)"}, {"二级分类": "另类校园", "总上榜次数": 1, "平均名次": 47.0, "书籍数量": 1, "颜色": "hsl(270, 70%, 50%)"}, {"二级分类": "商海沉浮", "总上榜次数": 2826, "平均名次": 30.6968085106383, "书籍数量": 94, "颜色": "hsl(300, 70%, 50%)"}, {"二级分类": "宦海风云", "总上榜次数": 43, "平均名次": 23.0, "书籍数量": 1, "颜色": "hsl(330, 70%, 50%)"}, {"二级分类": "小说同人", "总上榜次数": 862, "平均名次": 34.85526315789474, "书籍数量": 38, "颜色": "hsl(0, 70%, 50%)"}, {"二级分类": "异世大陆", "总上榜次数": 4591, "平均名次": 32.413690476190474, "书籍数量": 168, "颜色": "hsl(30, 70%, 50%)"}, {"二级分类": "影视同人", "总上榜次数": 13960, "平均名次": 34.39760147601476, "书籍数量": 542, "颜色": "hsl(60, 70%, 50%)"}, {"二级分类": "恐怖惊悚", "总上榜次数": 2075, "平均名次": 31.91919191919192, "书籍数量": 99, "颜色": "hsl(90, 70%, 50%)"}, {"二级分类": "战争幻想", "总上榜次数": 1193, "平均名次": 31.853448275862068, "书籍数量": 58, "颜色": "hsl(120, 70%, 50%)"}, {"二级分类": "推理悬念", "总上榜次数": 217, "平均名次": 33.25, "书籍数量": 12, "颜色": "hsl(150, 70%, 50%)"}, {"二级分类": "日常类", "总上榜次数": 115, "平均名次": 31.071428571428573, "书籍数量": 7, "颜色": "hsl(180, 70%, 50%)"}, {"二级分类": "星际修真", "总上榜次数": 65, "平均名次": 32.666666666666664, "书籍数量": 3, "颜色": "hsl(210, 70%, 50%)"}, {"二级分类": "星际科幻", "总上榜次数": 459, "平均名次": 32.589285714285715, "书籍数量": 28, "颜色": "hsl(240, 70%, 50%)"}, {"二级分类": "架空历史", "总上榜次数": 10201, "平均名次": 31.25346260387812, "书籍数量": 361, "颜色": "hsl(270, 70%, 50%)"}, {"二级分类": "校园言情", "总上榜次数": 2, "平均名次": 42.0, "书籍数量": 2, "颜色": "hsl(300, 70%, 50%)"}, {"二级分类": "武侠修真", "总上榜次数": 3198, "平均名次": 32.2948717948718, "书籍数量": 117, "颜色": "hsl(330, 70%, 50%)"}, {"二级分类": "浪子异侠", "总上榜次数": 1, "平均名次": 45.0, "书籍数量": 1, "颜色": "hsl(0, 70%, 50%)"}, {"二级分类": "浪漫言情", "总上榜次数": 2480, "平均名次": 30.54123711340206, "书籍数量": 97, "颜色": "hsl(30, 70%, 50%)"}, {"二级分类": "灵异神怪", "总上榜次数": 972, "平均名次": 32.911764705882355, "书籍数量": 51, "颜色": "hsl(60, 70%, 50%)"}, {"二级分类": "特种军旅", "总上榜次数": 1962, "平均名次": 33.73837209302326, "书籍数量": 86, "颜色": "hsl(90, 70%, 50%)"}, {"二级分类": "王朝争霸", "总上榜次数": 727, "平均名次": 30.68055555555556, "书籍数量": 36, "颜色": "hsl(120, 70%, 50%)"}, {"二级分类": "现代修真", "总上榜次数": 281, "平均名次": 29.38888888888889, "书籍数量": 9, "颜色": "hsl(150, 70%, 50%)"}, {"二级分类": "现代战争", "总上榜次数": 1193, "平均名次": 30.196428571428573, "书籍数量": 28, "颜色": "hsl(180, 70%, 50%)"}, {"二级分类": "电子竞技", "总上榜次数": 2101, "平均名次": 32.84586466165413, "书籍数量": 133, "颜色": "hsl(210, 70%, 50%)"}, {"二级分类": "神秘时空", "总上榜次数": 161, "平均名次": 31.954545454545453, "书籍数量": 11, "颜色": "hsl(240, 70%, 50%)"}, {"二级分类": "神话传说", "总上榜次数": 6124, "平均名次": 30.138181818181817, "书籍数量": 275, "颜色": "hsl(270, 70%, 50%)"}, {"二级分类": "穿越时空", "总上榜次数": 4319, "平均名次": 30.96103896103896, "书籍数量": 154, "颜色": "hsl(300, 70%, 50%)"}, {"二级分类": "穿越附身", "总上榜次数": 197, "平均名次": 31.357142857142858, "书籍数量": 7, "颜色": "hsl(330, 70%, 50%)"}, {"二级分类": "篮球运动", "总上榜次数": 205, "平均名次": 35.58620689655172, "书籍数量": 29, "颜色": "hsl(0, 70%, 50%)"}, {"二级分类": "职场生涯", "总上榜次数": 528, "平均名次": 27.973684210526315, "书籍数量": 19, "颜色": "hsl(30, 70%, 50%)"}, {"二级分类": "虚拟网游", "总上榜次数": 5523, "平均名次": 33.77832512315271, "书籍数量": 203, "颜色": "hsl(60, 70%, 50%)"}, {"二级分类": "豪门恩怨", "总上榜次数": 27, "平均名次": 34.5, "书籍数量": 3, "颜色": "hsl(90, 70%, 50%)"}, {"二级分类": "超黑科技", "总上榜次数": 484, "平均名次": 34.724137931034484, "书籍数量": 29, "颜色": "hsl(120, 70%, 50%)"}, {"二级分类": "足球运动", "总上榜次数": 557, "平均名次": 27.973684210526315, "书籍数量": 19, "颜色": "hsl(150, 70%, 50%)"}, {"二级分类": "转世重生", "总上榜次数": 875, "平均名次": 31.6, "书籍数量": 20, "颜色": "hsl(180, 70%, 50%)"}, {"二级分类": "轻幻想", "总上榜次数": 97, "平均名次": 31.375, "书籍数量": 4, "颜色": "hsl(210, 70%, 50%)"}, {"二级分类": "都市同人", "总上榜次数": 53, "平均名次": 36.05555555555556, "书籍数量": 9, "颜色": "hsl(240, 70%, 50%)"}, {"二级分类": "都市异能", "总上榜次数": 12595, "平均名次": 31.3801652892562, "书籍数量": 484, "颜色": "hsl(270, 70%, 50%)"}, {"二级分类": "都市生活", "总上榜次数": 30326, "平均名次": 30.80017683465959, "书籍数量": 1131, "颜色": "hsl(300, 70%, 50%)"}];

        // 转换数据格式
        var scatterData = data.map(function (item) {
            return {
                name: item["二级分类"],
                value: [item["总上榜次数"], item["平均名次"], item["书籍数量"]],
                itemStyle: {
                    color: item["颜色"]
                }
            };
        });

        // 配置项
        var option = {
            title: {
                text: '二级分类分析',
                left: 'center'
            },
            tooltip: {
                formatter: function (params) {
                    return '分类: ' + params.data.name +
                        '<br>总上榜次数: ' + params.data.value[0] +
                        '<br>平均名次: ' + params.data.value[1] .toFixed(2)+
                        '<br>书籍数量: ' + params.data.value[2];
                }
            },
            xAxis: {
        name: '总上榜次数',
        type: 'value',
        axisLabel: {
            formatter: '{value}'
        },
        
    },
            yAxis: {
                name: '平均名次',
                type: 'value',
                inverse: true
            },
            dataZoom: [ // 全局 dataZoom 配置
                {
                    type: 'slider', // 拖动条
                    start: 0,       // 初始显示的开始百分比
                    end: 50         // 初始显示的结束百分比
                },
                {
                    type: 'inside'   // 鼠标滚轮缩放
                }
            ],
            series: [{
                name: '分类分析',
                type: 'scatter',
                data: scatterData,
                symbolSize: function (data) {
                    return Math.sqrt(data[2]) * 10;  // 点大小与书籍数量相关
                }
            }]
        };

        // 绘制图表
        myChart.setOption(option);
    </script>
    <div style="padding: 20px; background-color: #f9f9f9; border: 1px solid #ddd; margin: 10px 0;">
        <h3>图表说明</h3>
        <p>展示各二级分类在上榜次数、平均名次和书籍数量三维度的分布情况。维度：二级分类的总上榜次数、平均名次、书籍数量。</p>
        <h3>数据来源</h3>
        <p>数据来源：阿里数据 <a href="https://tianchi.aliyun.com/dataset/191720" target="_blank">https://tianchi.aliyun.com/dataset/191720</a></p>
        <h3>分析</h3>
        <p>热门分类：如"动漫同人"、"影视同人"在上榜次数和书籍数量上占据较大份额，反映了用户偏好。
            潜力分类：一些分类如"历史传记"虽然书籍数量少，但平均名次较高，显示出优质作品的潜力。</p>
        <h3>现实意义</h3>
        <p>通过二级分类的表现，可以识别用户偏好的热门类别，为出版商和作者提供选题方向。</p>
    </div>
</body>
</html>
